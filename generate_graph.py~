import networkx as nx
import matplotlib.pyplot as plt


def usage():
    print "num_nodes topology substar_count. if single star, 300 star 0 else 300 substar 5"
    sys.exit(2)

def generate_graph(num_nodes, topology, substar_count):
    nodes=range(0,num_nodes)
    G=nx.Graph()
    G.add_nodes_from(nodes)
    if(topology=='star'):
        for(node in range(0,num_nodes-1)):
            G.add_edge(node,num_nodes-1)
        nx.draw(G)
        plt.show()
    elif(topology=='substar'):
        subhead=range(substar_count-1,num_nodes,substar_count)
        for a,b in zip(subhead,subhead[1:]):
            G.add_edge(a,b)
        nx.draw(G)
        plt.show()
        


def main():
    if len(sys.argv)<2:
        usage()
    
    num_nodes=int(sys.argv[1])
    topology=int(sys.argv[2])
    substar_count=int(sys.argv[3])
    generate_graph(num_nodes,topology, substar_count)
    
if __name__ == '__main__':
    main()
